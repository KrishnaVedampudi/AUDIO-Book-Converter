<html>
<head>
  <title>Converting PDF To Text using pdf.js</title>
  <style>
  html, body { width: 100%; height: 100%; overflow-y: hidden; padding: 0; margin: 0; }
  body { font: 13px Helvetica,sans-serif; }
  body > div { width: 48%; height: 100%; overflow-y: auto; display: inline-block; vertical-align: top; }
  iframe { border: none; width: 100%; height: 100%; }
  #output { padding: 10px; box-shadow: 0 0 5px #777; border-radius: 5px; margin: 10px; }
  #processor { height: 70px; }
  </style>
</head>

<body>
  <div>
    <!-- embed the pdftotext web app as an iframe -->
    <iframe id="processor" src="../"></iframe>
    
    <!-- a container for the output -->
    <script src="https://thunkable.github.io/webviewer-extension/thunkableWebviewerExtension.js" type="text/javascript"></script>

    <div id="output"><p id="output2">MY UNIVERSITY
   Hey…! Mia shouted at her mother anxiously as she may go to college late during her first day. Seeing the time in the clock Mia woke up and started to get ready. Her mom reminded her to take the application on her study table. She grabbed the application and placed it in her bag carefully. She packed her breakfast in a box and ran towards the front door. She took her bicycle and started riding it saying bye to her mom.
   Hi! I’m Mia, I want to graduate from MK University of science. I’m always first in my class. I’m not sure about my grades now. Even though I want to study hard… I want to make friends and turn everyday into a sweet memory. I’ll make my dreams come true.
   Oops…! I dashed someone. Mia heard someone whispering that, ”Is she out of her mind? How can she hurt a charming prince? Mia looked and saw an arrogant face looking at her. He left as someone called him Lee Jin. Two girls came and helped her to get up. The Girl who is holding a book said that her name was Yue Ran and the other girl's name was Mi So. Yue Ran was pretty and calm. She is holding a book. She is medium height with cat eye spectacles and she has long hair . Miso is short and cute. She is wearing a netted white dress and has short hair with ponytail. said that we need to submit our applications in reception. So three of them headed there. On their way they saw an application lying on the floor named Tae Oh. They saw someone searching for something. Mia went there and gave him his application as she saw his photo in the application. But giving a nasty look he asked whether they needed his attention. Yue Ran, with frustration, shouted at him saying we are not fools to gain attention from a pervert. And left the place. Mi So said that she gave him a nice counter ‘cause she heard that he asked the same question to other girls.
•	Three of them headed to the seminar hall. Many students are chatting loudly about the facts they knew about the university ,teachers ,old students , achievements etc. That is a very big hall with chairs and a big dais. Students sat in their respective places. The hall filled with excitement. There is a screen on dais. In-front of it there are chairs seated by the principal and vice principal. To its left there is a microphone. The people around are waiting for the seminar to begin. The host started to call the people who took part in the establishment and some important people to give a small speech. Everyone gave a big round of applause for their speeches and finally the Principal took the mic and started to display a video on the screen. The video is about the experiences of old students who graduated from the university and settled in a higher position. Everyone shared their views about how they studied and enjoyed university life.

   “Hello Students!”,said the principal. “Hello Sir!”,replied the students with enthusiasm. Principal started the speech about the university, “When I was young, I was very poor in studies. My father is a teacher, he taught many students and enjoyed their success as his success. When I was in 8th grade, my father lost his job as the principal forged students' records. This made me dream about establishing a school and giving them good knowledge without discrimination. With the help of my friend, Dr. Ki-hyong, the vice principal who is sitting beside me. My dream came true and we achieved many awards. Now, let’s invite Ki-hyong to deliver a speech to the freshers.” Now, Ki-Hyong takes the mic and starts his speech ,”As Dr. Park-Hwong said, we struggled a lot to start the university and get some staff. But this hard work reaped a great success. I hope everyone will get good grades. I’m sure that I remember this academic year forever. Thank you…..
•	Three friends reached the classroom. There is only one person sitting in the   	room reading a book. His name is Kiyoshi. He said that everyone else did not come to the class and may be roaming the entire university. Three of them sat in the first bench .Yue Ran said she scored first rank in the entrance examination. Mi So said she ranked below ten and I said that scored 9th rank. Meanwhile Kyoshi left the class. Now some students have entered the class. Some are fighting for places, some are chitchatting. The bell has rung. A lady in her 30’s entered the class room. She said ,”Hi! students, I’m Ms. Naomi, your class teacher”. I teach chemistry. If you have any problems, feel free to ask me. Two students entered the classroom. The one whom Mia dashed and the other who called him. Ms. Naomi allowed them in and asked the reason why they were late. They said that they sat in another classroom. But she was not satisfied with the answer. So she made them stand and started calling the rolls. Girls who sat in the back bench were giggling when they saw Lee Jin. A girl named Ren said that the teacher’s nickname is crazy witch. Her husband is working in the physics department at this university. He is very strict.
 
•
	After a long lecture she said,'' Class dismissed, take a break”. Three of them decided to go to the canteen. On their way they saw two girls Kaite and Eric from another section being bullied by two senior girls. Kaite was beautiful and wearing a velvet dress. Her looks are confident and she has cat eyes and her hair is silky. Eri was a bit tall and was wearing a short top with jeans and she is looking a bit shy and has curly long hair. Seniors are asking them to carry their bags from university to  their home and also they need to buy snacks for them with their money. But Kaite saw Mia, Mi So and Yue Ran coming. Kaite said that Mia’s house is near your house and it is easy for her to bring your bags and her class is next to you so teachers may think that you know each other so no one doubts you. Listening to this, the senior girls left them and called Mia and the other two girls. Having no other option they need to listen to them. After they left, Mi So said that it was due to Kaite. Mia said that she doesn't know where those senior girls live and not even their class. Yue Ran said, ”Let’s not worry about it, we can find later.” They bought snacks for them and searched their class and gave snacks to them.
	During lunch break, they paid for a lunch pass. And started eating and cursing the two girls from another section. Mia saw the two girls sitting with three boys in which one of them is Tae oh and said to Mi So and Yue Ran. They thought that five of them are idiots and started to get frustrated by the sight of them. Evening, they decided to ask the senior girls about their address. Listening to this, Mr. Obedient (Kyoshi) said that he knew their address. He gave their address. It is near the house of Yue Ran. She said that she will drop it in their house. They packed their bags and while leaving they discussed some important points in all classes. They saw the idiot five group(Mia named them) coming out too. All of them laughed when they saw us. But we simply ignored them. Mia reached home. Her mom asked, “How is your first day?” Mia said, “oookkk”. And also said, “I got two friends, who are very good at studies”. I ate dinner and wrote about my first day in my diary. I decided to ask for pocket money as I need to buy snacks for the seniors.
 	
•My Batch
	It’s been one week since I started going to university. Crazy witch’s class is the best class ever. She always cracks jokes and picks on sleepy heads. Noah, a boy from last bench who is  not interested in studies, always causes disturbance in class, mainly in Mr.Strict’s (Alex, phy sir)class. In his class, Joker(Noah) always needs to stand in the last bench. Joker wrote a love letter to another teacher with the name of Alex.  Noah was forced to write a self-criticism letter but wrote a fairy tale(Little Mermaid), Alex sir as mermaid. And displayed in the notice board and got suspended for a couple of days. We spent most of our free time in our library. And sometimes Kaite’s batch used to come for borrowing books.
	On Monday the two senior girls came to us and said that from today, there is no need to buy them snacks or carry their bags. Cutie pie(Mi So) asked why. Seniors saw Lee Jin’s face and left silently. I went to ask him what had happened? Lee Jin gave a nasty look like before and turned towards Chi Won. Chi Won said ,”Mr.Obedient asked us to do so. Yesterday ,He came to us and requested to solve the problem. After you left they said they are doing this for fun. We recorded this conversation and said that we will show this to the crazy witch. “After seeing this they said that from today, we won’t bully them. And you know what happened after that. And Lee Jin said he forgave you for pushing him. I said,”  I made no mistake”. Who is he to forgive me for the mistake I did not make. Four of us exchanged looks. Lee Jin came and said, “let’s be good friends”. Now we became a team of five.
•My First Exam
	Crazy witch entered the class holding a notice, and attached it on the notice board. She said, ”We are going to conduct weekly exams on Saturdays. And this week we have an exam on Saturday.  Some people shouted no, some people gave no reaction and some people were exchanging looks and some were asking notes from other students. The syllabus is on the notice board and we need to check it
after the class. Our batch (Me, cutie pie, bookworm, Lee Jin, Chi Won) decided to study according to a time table after college in the library. Bookworm wrote a time table. We headed to the library together and saw ‘THEIR’ batch(Eri, Feng-li, Tae oh, Min Ho).
	They sat near our bench. They are boasting that Feng-li will be first in the coming exam. We said that Yue-Ran can beat him. We practiced a lot for the exam as we don’t want to accept the defeat. We even practiced in our free times and of course Kiyoshi clarified some of our doubts and helped us in preparing notes. He is such a nice guy who helps everyone in the class. He even tried to solve our problem with senior girls before. Lee Jin, I hate him the most. He always tries to pick on me and he is always pointing out my mistakes as if he is very good at studies. But, he is not the best. Instead, Yue-ran was. He always makes me arrange his books, clean his desk and I also need to fill his bottle, buy him snacks(of course with his money). I am just helping him as a friend but he is making me do many things for him. And also he fights with me for no reason. He made a bet on me that I will fail in the coming exam. If he loses the bet, he will pick on me as I made him lose the bet.
•
If he wins I should help him with whatever he says as he helped me in the preparation. I did not agree. But at last I did so, as he is nagging me and even shouting in class to make me agree.  It does not make any change. As I am doing the same now.
	Today is Saturday morning. Exam is in the afternoon. They gave some time for self preparation. Kiyoshi is seriously revising his notes. Bookworm buried her face in books and sat on the last bench. Lee Jin and Chi Won are preparing together. I was observing everyone’s reaction. Some are sleeping, some are taking pics and posting their reactions about their first exam in ‘we chat’ moments. I want to know what ‘THEIR’ batch is doing. So I went out and peeked in their classroom. All of them are preparing together. Looks like they are friends from childhood. I always see them together. During lunch break no one uttered a word among us, everyone was reading. We sat in our seats according to seating arrangements. In our class, cutie pie, Eri are there along with me. Kiyoshi, Min Ho and Noah are also there in our class. Noah wrote a note on board that anyone can ask him questions and he’ll answer them. Invigilator entered the classroom. Mr.Strict gave a shocking entry. Noah’s face is like a rotten potato. But remained silent and covered his face.
	Exam duration is 3 hours. After 1h, Alex sir left the class and called someone to buy him a coffee. Meanwhile first row students started sharing answers. Students from the last benches are trying hard to peep into the answer sheets of students sitting before them. I’m in the third row at the centre. I solved only one subject. Noah is answering every question by seeing in the workbook. But according to me, only a few questions are from material. Min Ho is helping a girl who sat before him. Alex sir entered the classroom. Everyone turned their faces(including me).
•
</p><div id="intro">Extracting text from a PDF file using only Javascript.<br>Tested in Chrome 16 and Firefox 9.</div></div>
  </div>
  
  <div>
    <!-- the PDF file must be on the same domain as this page -->
    <iframe id="input" src="METEOR SHOWER.pdf"></iframe>
  </div>
    
  <script>
  var input = document.getElementById("input");
  var processor = document.getElementById("processor");
  var output = document.getElementById("output");
  
  window.addEventListener("message", function(event){
    if (event.source != processor.contentWindow) return;
    
    switch (event.data){
      case "ready":
        var xhr = new XMLHttpRequest;
        xhr.open('GET', input.getAttribute("src"), true);
        xhr.responseType = "arraybuffer";

        xhr.onload = function(event) {
          processor.contentWindow.postMessage(this.response, "*");
        };

        xhr.send();
      break;
      
      default:
        output.textContent = event.data.replace(/\s+/g, " ");
      break;
    }
  }, true);
    par = document.getElementById('output2').innerHTML;
    ThunkableWebviewerExtension.postMessage(par);


  </script>

});</body>
</html>
